(this["webpackJsonpsnake-game-react"]=this["webpackJsonpsnake-game-react"]||[]).push([[0],{21:function(n,e,t){"use strict";t.r(e);var o,i=t(1),r=t(10),a=t.n(r),c=t(4),s=t(5),u={gameResolution:{width:350,height:350,squareArea:12.5},speed:{initial:300,minSpeed:100,speedDecay:15}};!function(n){n[n.TOP=1]="TOP",n[n.BOTTOM=2]="BOTTOM",n[n.LEFT=3]="LEFT",n[n.RIGHT=4]="RIGHT"}(o||(o={}));var b,d,l,p,j,g,f,O,h,x,m,v,k,w,y,T,R,S,D=o,G=t(0),I=u.gameResolution,C=I.width,M=I.height,B=I.squareArea,F=function(){for(var n=u.gameResolution,e=n.height,t=n.width,o=n.squareArea,i=Math.floor(Math.floor(e/o)/2)*o,r=Math.floor(Math.floor(t/o)/2)*o,a=[],c=0;c<3;c++)a.push({top:i,left:r+o*c});return a},A=function(){var n=E(0,C/B)*B,e=E(0,M/B)*B;return n===C&&(n-=B),e===M&&(e-=B),{left:n,top:e}},E=function(n,e){return Math.floor(Math.random()*(e-n+1))+n},H={state:{fruit:A(),pontuation:0,moveDirection:D.RIGHT,snake:F()},setState:function(){},start:function(){},changeDirection:function(n){},isGameOver:!1,msgStart:!0},L=Object(i.createContext)(H),P=function(n){var e=n.children,t=Object(i.useRef)(null),o=Object(i.useState)(H.state),r=Object(s.a)(o,2),a=r[0],b=r[1],d=Object(i.useState)(),l=Object(s.a)(d,2),p=l[0],j=l[1],g=Object(i.useState)(!1),f=Object(s.a)(g,2),O=f[0],h=f[1],x=Object(i.useState)(u.speed.initial),m=Object(s.a)(x,2),v=m[0],k=m[1],w=function(){h(!1),b(Object(c.a)(Object(c.a)({},a),{},{msgStart:!1,isGameOver:!0})),void 0!==p&&clearInterval(p)},y=function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=a.snake,t=u.gameResolution.squareArea,o=e[e.length-1];switch(a.moveDirection){case D.RIGHT:n&&e.shift(),e.push({top:o.top,left:o.left+t});break;case D.LEFT:n&&e.shift(),e.push({top:o.top,left:o.left-t});break;case D.TOP:n&&e.shift(),e.push({top:o.top-t,left:o.left});break;case D.BOTTOM:n&&e.shift(),e.push({top:o.top+t,left:o.left})}b(Object(c.a)(Object(c.a)({},a),{},{snake:e}))},T=function(){!function(){var n=a.snake[a.snake.length-1],e=u.gameResolution,t=e.width,o=e.height,i=e.squareArea;n&&((n.left<0||n.left>t-i)&&w(),(n.top<0||n.top>o-i)&&w())}(),function(){var n=a.snake[a.snake.length-1];if(n){var e=n.left,t=n.top;a.snake.filter((function(n){return n.left===e&&n.top===t})).length>1&&w()}}()},R=function(){y(!1),S(),b(Object(c.a)(Object(c.a)({},a),{},{fruit:A(),pontuation:a.pontuation+1}))},S=function(){var n=u.speed,e=n.minSpeed,t=n.speedDecay;v>e&&k(v-t)};return Object(i.useEffect)((function(){if(O){void 0!==p&&clearInterval(p),y();var n=setInterval((function(){return y()}),v);j(n)}}),[a.moveDirection,O,a.fruit]),Object(i.useEffect)((function(){T(),function(){var n=a.snake[a.snake.length-1];n.top===a.fruit.top&&n.left===a.fruit.left&&R()}()}),[JSON.stringify(a.snake)]),Object(G.jsx)(L.Provider,{value:{playingField:t,state:a,setState:b,start:function(){void 0!==p&&clearInterval(p),b(Object(c.a)(Object(c.a)({},a),{},{fruit:A(),snake:F(),moveDirection:D.RIGHT,pontuation:0,isGameOver:!1,msgStart:!1})),k(u.speed.initial),h(!0),t.current.focus()},changeDirection:function(n){a.moveDirection===D.RIGHT&&n===D.LEFT||a.moveDirection===D.LEFT&&n===D.RIGHT||a.moveDirection===D.TOP&&n===D.BOTTOM||a.moveDirection===D.BOTTOM&&n===D.TOP||b(Object(c.a)(Object(c.a)({},a),{},{moveDirection:n}))}},children:e})},q=L,z=function(n){var e=n.children;return Object(G.jsx)(P,{children:e})},K=t(2),J=t(3),V=J.b.section(b||(b=Object(K.a)(["\n    overflow: hidden;\n    display: flex;\n    position: relative;\n\n    &:focus {\n        outline: none;\n    }\n    &:active {\n        cursor: wait;\n    }\n"]))),U=J.b.div(d||(d=Object(K.a)(["\n    background: #000;\n    top: 0px;\n    left: 0px;\n    box-sizing: border-box;\n    position: absolute;\n"]))),N=u.gameResolution.squareArea,W=function(n){var e=n.style;return Object(G.jsx)(U,{style:Object(c.a)(Object(c.a)({},e),{},{width:N,height:N})})},Y=function(){var n=Object(i.useContext)(q).state.fruit,e=n.top,t=n.left;return Object(G.jsx)(W,{style:{top:e,left:t,background:"#fa0800",borderRadius:"20px"}})},_=function(){var n=Object(i.useContext)(q).state;return Object(G.jsx)(G.Fragment,{children:n.snake.map((function(n,e){var t=n.top,o=n.left;return Object(G.jsx)(W,{style:{top:t,left:o,border:"1px solid #ddd"}},"snake_"+e)}))})},Q=function(){var n=Object(i.useContext)(q).playingField,e=u.gameResolution,t=e.width,o=e.height;return Object(G.jsxs)(V,{ref:n,tabIndex:-1,style:{width:t,height:o},children:[Object(G.jsx)(Y,{}),Object(G.jsx)(_,{})]})},X=J.b.div(l||(l=Object(K.a)(["\n  border-bottom: 4px solid #000;\n  width: 100%;\n  padding: 20px;\n  box-sizing: border-box;\n  color: white;\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  h1 {\n    margin: 0;\n    padding: 0;\n  }\n\n  div {\n  }\n\n  @media (max-width: 1024px) {\n    padding: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    h1 {\n      font-size: 1.2rem;\n    }\n    div {\n      justify-content: flex-end;\n      button {\n        display: none;\n      }\n    }\n  }\n"]))),Z=J.b.div(p||(p=Object(K.a)(["\nfont-weight: bold;\n    @media (max-width: 1024px) {\n        font-size: .7rem;\n    }\n"]))),$=function(){var n=Object(i.useContext)(q).state;return Object(G.jsxs)(X,{children:[Object(G.jsx)("h1",{children:"Snake Game"}),Object(G.jsxs)(Z,{children:["Score: ",n.pontuation]})]})},nn=J.b.section(j||(j=Object(K.a)(['\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin: 5% auto;\n  border: 2px solid #000;\n  padding: 0;\n  background-image: url("img/background.jpg");\n\n  &:focus {\n    outline: none;\n  }\n\n  @media (max-width: 1024px) {\n    margin-top: 4px;\n    margin: 1% auto;\n  }\n\n  ',";\n"])),(function(n){var e=n.cursorVisible;return e||void 0===e?Object(J.a)(g||(g=Object(K.a)(['\n          cursor: url("img/Cursor2.png"), default;\n        ']))):Object(J.a)(f||(f=Object(K.a)(["\n          cursor: none;\n        "])))})),en=J.b.dialog(O||(O=Object(K.a)(["\n    display: "," ;\n    flex-direction: column;\n    align-content: center;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n"])),(function(n){return n.open?"flex":"none"})),tn=J.b.h1(h||(h=Object(K.a)(["\nfont-weight: bold;\n"]))),on=J.b.p(x||(x=Object(K.a)(["\n\n"]))),rn=J.b.button(m||(m=Object(K.a)(['\n  cursor: pointer;\n  height: 77px;\n  width: 77px;\n  background-image: url("img/Start.jpg");\n  background-repeat: no-repeat;\n  background-position: center;\n  border: none;\n  background-color: transparent;\n\n  @media (max-width: 1024px) {\n    font-size: 0.8rem;\n    border-width: 3px;\n    padding: 4px 8px;\n  }\n  &:active {\n        opacity: 0.2;\n        cursor: wait;\n    }\n']))),an=J.b.button(v||(v=Object(K.a)(['\n  cursor: pointer;\n  height: 71px;\n  width: 72px;\n  background-image: url("img/Replay.jpg");\n  background-repeat: no-repeat;\n  background-position: center;\n  border: none;\n  background-color: transparent;\n\n  @media (max-width: 1024px) {\n    font-size: 0.8rem;\n    border-width: 3px;\n    padding: 4px 8px;\n  }\n  &:active {\n        opacity: 0.2;\n        cursor: wait;\n    }\n']))),cn=function(){var n=Object(i.useContext)(q),e=n.state,t=n.start;return Object(G.jsxs)(en,{open:!(!e.isGameOver&&!e.msgStart&&void 0!==e.msgStart),children:[e.isGameOver&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(tn,{children:"GAME OVER"}),Object(G.jsxs)(on,{children:["Your score: ",e.pontuation]}),Object(G.jsx)(an,{onClick:t})]}),e.msgStart||void 0===e.msgStart&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(tn,{children:"Hello, let's play?"}),Object(G.jsx)("p",{children:"Go press start"}),Object(G.jsx)(rn,{onClick:t})]})]})},sn=J.b.div(k||(k=Object(K.a)(["\n  position: relative;\n  padding: 20px;\n  display: none;\n  @media (max-width: 1024px) {\n    display: block;\n  }\n"]))),un=J.b.div(w||(w=Object(K.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  div {\n    display: flex;\n    gap: 20px;\n  }\n"]))),bn=J.b.button(y||(y=Object(K.a)(["\n  cursor: pointer;\n  height: 60px;\n  width: 60px;\n  background-image: url('img/BtnTop.png');\n  background-repeat: no-repeat;\n  background-position: center;\n  border: none;\n  background-color: transparent;\n  position: relative;\n    top: 15px;\n\n  &:focus,\n  &:active {\n    outline: none;\n  }\n  &:active {\n    opacity: 0.2;\n  }\n"]))),dn=J.b.button(T||(T=Object(K.a)(["\n  cursor: pointer;\n  height: 60px;\n  width: 60px;\n  background-image: url('img/BtnLeft.png');\n  background-repeat: no-repeat;\n  background-position: center;\n  border: none;\n  background-color: transparent;\n\n  &:focus,\n  &:active {\n    outline: none;\n  }\n  &:active {\n    opacity: 0.2;\n  }\n\n"]))),ln=J.b.button(R||(R=Object(K.a)(["\n  cursor: pointer;\n  height: 50px;\n  width: 60px;\n  background-image: url('img/BtnRight.png');\n  background-repeat: no-repeat;\n  background-position: center;\n  border: none;\n  background-color: transparent;\n\n  &:focus,\n  &:active {\n    outline: none;\n  }\n  &:active {\n    opacity: 0.2;\n  }\n"]))),pn=J.b.button(S||(S=Object(K.a)(["\n  cursor: pointer;\n  height: 60px;\n  width: 60px;\n  background-image: url('img/BtnBottom.png');\n  background-repeat: no-repeat;\n  background-position: center;\n  border: none;\n  background-color: transparent;\n  position: relative;\n    bottom: 20px;\n\n  &:focus,\n  &:active {\n    outline: none;\n  }\n  &:active {\n    opacity: 0.2;\n  }\n"]))),jn=function(){var n=Object(i.useContext)(q).changeDirection;return Object(G.jsx)(sn,{children:Object(G.jsxs)(un,{children:[Object(G.jsx)(bn,{onClick:function(){return n(D.TOP)}}),Object(G.jsxs)("div",{children:[Object(G.jsx)(dn,{onClick:function(){return n(D.LEFT)}}),Object(G.jsx)(ln,{onClick:function(){return n(D.RIGHT)}})]}),Object(G.jsx)(pn,{onClick:function(){return n(D.BOTTOM)}})]})})},gn=function(){var n=u.gameResolution.width,e=Object(i.useContext)(q),t=e.changeDirection,o=e.state;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(nn,{cursorVisible:o.isGameOver,role:"button",tabIndex:0,onKeyUp:function(n){switch(n.code){case"KeyS":case"ArrowDown":t(D.BOTTOM);break;case"KeyW":case"ArrowUp":t(D.TOP);break;case"KeyD":case"ArrowRight":t(D.RIGHT);break;case"KeyA":case"ArrowLeft":t(D.LEFT)}},onKeyDown:function(){},style:{width:n},children:[Object(G.jsx)($,{}),Object(G.jsx)(Q,{}),Object(G.jsx)(cn,{})]}),Object(G.jsx)(jn,{})]})};var fn=function(){return Object(G.jsx)(z,{children:Object(G.jsx)(gn,{})})};a.a.render(Object(G.jsx)(fn,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.8a134c7a.chunk.js.map